# go-back-n
回退N协议的python简单实现
# 接收方

维护一个标志量以判断帧是否失序，初始化为0

- 超时
    - 直接当丢了处理
- 帧损坏
    - 打印信息
- 帧无损
    - 序号错误
        - 打印信息，标绿
    - 序号正确
        - 打印信息
        - 标志量加一
- 发生 ACK {标志量}

> 发送发接收到的反馈状态都是 ACK，以标志量来判断接收方是否正确接收。

# 发送方

维护一个窗口的起始位置和终止位置，初始化为0和窗口大小减一

- 把起始窗口的所有帧发送
- 尝试接收反馈
    - 超时
        - 重发窗口内的所有帧
    - 收到反馈的ack标志量窗口的第一个元素相同
        - 发送成功
            - 打印信息，标绿
            - 窗口右移一位（窗口的起始位置变成ack标志量（窗口位置起点为0））
        - 判断是否发完
            - 没发完就发送窗口中的最后一个信息
            - 发完则让窗口终止位置停在总信息中的最后一个中
        - 判断是否确认完
            - 确认完，发送完毕，退出
    - 收到反馈的ack标志量窗口的第一个元素不相同（肯定还是上次发送成功的ack标志量或0）
        - 说明接收方收到了失序的帧
            - 重发窗口内的所有帧
